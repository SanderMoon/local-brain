{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Local Brain","text":"<p>A minimalist, local-first project management system for developers who live in the terminal.</p> <p>Local Brain is a context manager for your workflow. It stitches together your notes, tasks, and code repositories into a cohesive, keyboard-driven environment.</p>"},{"location":"#30-second-install","title":"30-Second Install","text":"<pre><code>brew tap SanderMoon/tap\nbrew install brain\nbrain init\n</code></pre> <p>That's it. Start capturing immediately:</p> <pre><code>brain add \"Fix authentication bug\"\nbrain add -n \"Meeting notes from standup\"\n</code></pre>"},{"location":"#core-philosophy-capture-fast-curate-later","title":"Core Philosophy: Capture Fast, Curate Later","text":"<p>Local Brain follows a two-phase workflow designed to keep you in flow state:</p>"},{"location":"#phase-1-capture-speed-is-king","title":"Phase 1: Capture (Speed is King)","text":"<p>When ideas strike, capture them instantly without breaking focus. No prompts, no decisions, no context switching.</p> <pre><code>brain add \"Fix auth bug\"\nbrain add \"Call client\"\nbrain add -n \"Use Redis for sessions\"\n</code></pre> <p>Everything goes to your dump (<code>00_dump.md</code>) - an inbox for raw thoughts. Capturing takes &lt; 1 second.</p>"},{"location":"#phase-2-curate-organization-is-king","title":"Phase 2: Curate (Organization is King)","text":"<p>Later, when you have dedicated time, organize and enrich your captured items:</p> <pre><code>brain refile    # Move items from dump to projects\nbrain plan      # Add priorities, due dates, tags\n</code></pre> <p>Batch process multiple items in one focused session using interactive FZF-powered workflows.</p>"},{"location":"#daily-practice-example","title":"Daily Practice Example","text":"<p>Morning (Capture throughout the day):</p> <pre><code>brain add \"Fix auth bug in login\"\nbrain add \"Review Sarah's PR\"\nbrain add -n \"Architecture discussion notes\"\n</code></pre> <p>End of Day (Refile):</p> <pre><code>brain refile\n# Interactive prompts move items to appropriate projects\n# \"Fix auth bug\" \u2192 backend-api\n# \"Review Sarah's PR\" \u2192 frontend\n# \"Architecture notes\" \u2192 architecture (as note)\n</code></pre> <p>Friday (Weekly planning):</p> <pre><code>brain plan\n# Set priorities, due dates, tags, states for tasks\n# Priority? 1 (high)\n# Due date? next-friday\n# Tags? bug security\n</code></pre> <p>Throughout the Week:</p> <pre><code>brain todo ls --status in-progress --priority 1\nbrain todo ls --overdue\nbrain todo done &lt;id&gt;\n</code></pre> <p>This workflow ensures you never lose an idea while maintaining organized, actionable projects.</p>"},{"location":"#key-concepts","title":"Key Concepts","text":"<p>Brains: Top-level workspaces (e.g., \"Work\", \"Personal\"). Only one brain active at a time, symlinked to <code>~/brain</code>.</p> <p>Projects: Focus areas within a brain (e.g., \"website-redesign\"). Each has <code>notes.md</code>, <code>todo.md</code>, and optional code repo links.</p> <p>Dump: Your inbox (<code>00_dump.md</code>) for rapid capture. Process it regularly with <code>brain refile</code>.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Local-First: Plain text Markdown files, grep-able, version-controllable</li> <li>Zero-Friction Capture: Add tasks in &lt; 1 second without context switching</li> <li>Batch Curation: Process and organize during dedicated time blocks</li> <li>Developer-Friendly: Integrates with git repos, supports JSON API for scripts</li> <li>Privacy-First: Everything lives locally in <code>~/brains/</code>, syncable via Syncthing/Dropbox</li> </ul>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Installation Guide - Complete installation instructions for all platforms</li> <li>Command Reference - Full documentation of all 23 commands</li> <li>Development Guide - Architecture, contributing, and API docs</li> </ul>"},{"location":"#quick-reference-the-three-commands","title":"Quick Reference: The Three Commands","text":"Command Phase Purpose When to Use <code>brain add</code> Capture Instant brain dump Anytime an idea strikes <code>brain refile</code> Curate Sort dump \u2192 projects End of day / start of day <code>brain plan</code> Curate Enrich with metadata Weekly planning sessions <p>Ready to get started? Head to the Installation Guide to set up Local Brain in under 5 minutes.</p>"},{"location":"commands/","title":"Command Reference","text":"<p>Complete documentation of all Local Brain commands.</p>"},{"location":"commands/#brain-management","title":"Brain Management","text":""},{"location":"commands/#brain-new-name","title":"<code>brain new [name]</code>","text":"<p>Description: Create a new brain workspace</p> <p>Usage: <pre><code>brain new work\nbrain new personal\n</code></pre></p> <p>Creates a new brain directory in <code>~/brains/&lt;name&gt;</code> with the following structure: - <code>00_dump.md</code> - Inbox for quick captures - <code>01_active/</code> - Active projects directory - <code>99_archive/</code> - Archived projects directory</p> <p>Notes: - If no name is provided, prompts interactively - Automatically switches to the new brain - Creates a symlink at <code>~/brain</code> pointing to the new brain</p>"},{"location":"commands/#brain-switch-name","title":"<code>brain switch [name]</code>","text":"<p>Description: Switch to a different brain workspace</p> <p>Usage: <pre><code>brain switch work\nbrain switch personal\n</code></pre></p> <p>Options: - If no name provided, shows interactive selection with fzf</p> <p>Notes: - Updates the <code>~/brain</code> symlink to point to the selected brain - Previous brain remains intact and can be switched back to anytime</p>"},{"location":"commands/#brain-current","title":"<code>brain current</code>","text":"<p>Description: Show the currently active brain name</p> <p>Usage: <pre><code>brain current\n</code></pre></p> <p>Output: <pre><code>work\n</code></pre></p> <p>Notes: - Returns exit code 1 if no brain is active - Useful for shell prompts and scripts</p>"},{"location":"commands/#brain-list","title":"<code>brain list</code>","text":"<p>Description: List all registered brains</p> <p>Usage: <pre><code>brain list\n</code></pre></p> <p>Output: <pre><code>Available Brains:\n-----------------\n * work           (active)\n   personal\n   research\n</code></pre></p> <p>The active brain is marked with <code>*</code>.</p>"},{"location":"commands/#brain-path","title":"<code>brain path</code>","text":"<p>Description: Show the filesystem path of the active brain</p> <p>Usage: <pre><code>brain path\n</code></pre></p> <p>Output: <pre><code>/Users/username/brains/work\n</code></pre></p> <p>Notes: - Useful for scripting and integrations - Can be used with <code>cd $(brain path)</code> to navigate to brain directory</p>"},{"location":"commands/#brain-rename-old-new","title":"<code>brain rename &lt;old&gt; &lt;new&gt;</code>","text":"<p>Description: Rename a brain</p> <p>Usage: <pre><code>brain rename work work-2024\n</code></pre></p> <p>Notes: - Renames both the directory and updates the configuration - If renaming the active brain, the symlink is updated automatically</p>"},{"location":"commands/#brain-delete-name","title":"<code>brain delete [name]</code>","text":"<p>Description: Permanently delete a brain</p> <p>Usage: <pre><code>brain delete old-brain\n</code></pre></p> <p>Options: - If no name provided, shows interactive selection</p> <p>Notes: - DESTRUCTIVE OPERATION - Cannot be undone - Requires typing the brain name to confirm deletion - Cannot delete the currently active brain (switch first) - All projects, notes, and tasks in the brain are permanently deleted</p>"},{"location":"commands/#brain-import-path","title":"<code>brain import [path]</code>","text":"<p>Description: Import an existing brain directory</p> <p>Usage: <pre><code>brain import ~/Dropbox/my-old-brain\nbrain import /path/to/synced-brain\n</code></pre></p> <p>Notes: - Registers an existing brain directory with Local Brain - Useful for importing synced brains from cloud storage - Does not copy files, only registers the path</p>"},{"location":"commands/#capture-workflow","title":"Capture Workflow","text":""},{"location":"commands/#brain-add-text","title":"<code>brain add [text]</code>","text":"<p>Description: Quick capture to dump</p> <p>Usage: <pre><code># Quick task capture\nbrain add \"Fix authentication bug\"\nbrain add \"Email Sarah about proposal\"\n\n# Note capture (opens editor)\nbrain add\n</code></pre></p> <p>Modes:</p> <p>Quick Capture (with text): - Appends as a checkbox task: <code>- [ ] your text #captured:YYYY-MM-DD</code> - Takes &lt; 1 second - No metadata required</p> <p>Editor Mode (no text): - Prompts for note title - Opens your editor (vim/nvim/nano) - Saves as indented note block with title</p> <p>Examples: <pre><code># Task\nbrain add \"Review PR #123\"\n# Result in dump: - [ ] Review PR #123 #captured:2026-01-29\n\n# Note (opens editor)\nbrain add\n# Prompts: Note title: Meeting Notes\n# Opens editor for content\n</code></pre></p> <p>Notes: - Uses <code>$EDITOR</code> environment variable - Captured tasks can be enriched later with <code>brain plan</code> - Notes are multi-line and support full markdown</p>"},{"location":"commands/#brain-dump-ls-json","title":"<code>brain dump ls [--json]</code>","text":"<p>Description: List items in the dump with stable IDs</p> <p>Usage: <pre><code># Human-readable\nbrain dump ls\n\n# JSON output for scripts\nbrain dump ls --json\n</code></pre></p> <p>Options: - <code>--json</code> - Output JSON format with IDs for programmatic access</p> <p>Output (human): <pre><code>a1b2c3  [Task] Fix authentication bug #captured:2026-01-29\nd4e5f6  [Note] Meeting notes from standup #captured:2026-01-29\n</code></pre></p> <p>Output (JSON): <pre><code>[\n  {\n    \"id\": \"a1b2c3\",\n    \"type\": \"task\",\n    \"content\": \"Fix authentication bug #captured:2026-01-29\",\n    \"line\": 5\n  }\n]\n</code></pre></p> <p>Notes: - IDs are stable and based on MD5 hash of content + line number + file mtime - JSON output includes line numbers for precise file editing</p>"},{"location":"commands/#brain-dump-rm-id","title":"<code>brain dump rm &lt;id&gt;</code>","text":"<p>Description: Remove an item from the dump by ID</p> <p>Usage: <pre><code>brain dump rm a1b2c3\n</code></pre></p> <p>Notes: - Permanently deletes the item from dump - Use <code>brain refile</code> instead to move items to projects - Useful for removing spam or accidental captures</p>"},{"location":"commands/#curation-workflow","title":"Curation Workflow","text":""},{"location":"commands/#brain-refile-id-project","title":"<code>brain refile [&lt;id&gt; &lt;project&gt;]</code>","text":"<p>Description: Move items from dump to projects</p> <p>Usage:</p> <p>Interactive Mode (recommended): <pre><code>brain refile\n</code></pre></p> <p>Shows each dump item one by one with: - Interactive project selection (fzf) - Special options: <code>[SKIP]</code> and <code>[TRASH]</code> - Progress counter</p> <p>Direct Mode: <pre><code>brain refile a1b2c3 backend-api\n</code></pre></p> <p>Moves specific item by ID to a specific project.</p> <p>Behavior: - Tasks \u2192 Appended to project's <code>todo.md</code> - Notes \u2192 Created as separate markdown files in project's <code>notes/</code> directory</p> <p>Examples: <pre><code># Interactive refiling\nbrain refile\n\n# Direct refiling\nbrain refile a1b2c3 work\nbrain refile d4e5f6 personal\n</code></pre></p> <p>Notes: - Items retain their <code>#captured:YYYY-MM-DD</code> timestamp - Notes are saved as <code>YYYY-MM-DD-title-slug.md</code> - Removed from dump after successful refiling</p>"},{"location":"commands/#brain-plan","title":"<code>brain plan</code>","text":"<p>Description: Interactive batch task planning</p> <p>Usage: <pre><code>brain plan\n</code></pre></p> <p>Workflow: 1. Shows interactive task selection (fzf) 2. For each selected task, prompts for:    - Priority (1=high, 2=medium, 3=low)    - Due date (YYYY-MM-DD, tomorrow, +3d, next-friday)    - Tags (comma/space separated)    - State (open, in-progress, blocked) 3. All fields optional - press Enter to skip 4. Loops until cancelled (Esc)</p> <p>Examples: <pre><code>Select task to plan (Esc to exit)\nTask: Fix authentication bug (backend-api)\n--------------------------------------------------------------\nCurrent priority: none\nCurrent due date: none\nCurrent tags: none\nCurrent state: open\n--------------------------------------------------------------\nPriority (1=high, 2=medium, 3=low, clear, or Enter to skip): 1\n\u2713 Set priority to 1 (high)\n\nDue date (YYYY-MM-DD, tomorrow, +3d, next-friday, clear, or Enter to skip): next-friday\n\u2713 Set due date to 2026-02-07\n\nTags (comma or space separated, or Enter to skip): bug security\n\u2713 Added tags: #bug #security\n\nState (open, in-progress, blocked, or Enter to skip): in-progress\n\u2713 Set state to in-progress\n</code></pre></p> <p>Natural Language Dates: - <code>today</code> / <code>tomorrow</code> / <code>yesterday</code> - <code>+3d</code> - 3 days from now - <code>next-monday</code>, <code>next-friday</code>, etc. - <code>YYYY-MM-DD</code> - Explicit date</p> <p>Notes: - Ideal for weekly planning sessions - Complements <code>brain add</code> for capture-curate workflow - Existing tags shown as suggestions - Can clear metadata by entering <code>clear</code></p>"},{"location":"commands/#brain-review","title":"<code>brain review</code>","text":"<p>Description: Review and process items (if implemented)</p> <p>Usage: <pre><code>brain review\n</code></pre></p> <p>Notes: - Check implementation status with <code>brain review --help</code> - May provide weekly review workflows</p>"},{"location":"commands/#project-management","title":"Project Management","text":""},{"location":"commands/#brain-project-new-name","title":"<code>brain project new &lt;name&gt;</code>","text":"<p>Description: Create a new project</p> <p>Usage: <pre><code>brain project new website-redesign\nbrain project new blog-posts\n</code></pre></p> <p>Creates: - Project directory in <code>01_active/&lt;name&gt;/</code> - <code>notes.md</code> with initial template - <code>todo.md</code> with sample tasks - <code>.repos</code> file for git repository links</p> <p>Name Requirements: - Letters, numbers, hyphens, and underscores only - No spaces (use hyphens instead)</p> <p>Notes: - Automatically selects (focuses) the new project - Creates boilerplate structure to get started quickly</p>"},{"location":"commands/#brain-project-list-json","title":"<code>brain project list [--json]</code>","text":"<p>Aliases: <code>brain project ls</code></p> <p>Description: List all active projects</p> <p>Usage: <pre><code># Human-readable\nbrain project list\n\n# JSON output\nbrain project list --json\n</code></pre></p> <p>Options: - <code>--json</code> - Output JSON format</p> <p>Output (human): <pre><code>Active Projects:\n----------------\n * backend-api        (selected) [Repos: 1, Tasks: 12]\n   frontend                      [Repos: 2, Tasks: 5]\n   documentation                 [Repos: 0, Tasks: 3]\n</code></pre></p> <p>Output (JSON): <pre><code>[\n  {\n    \"name\": \"backend-api\",\n    \"focused\": true,\n    \"repo_count\": 1,\n    \"task_count\": 12\n  }\n]\n</code></pre></p> <p>Notes: - Shows task counts and linked repo counts - Selected project marked with <code>*</code></p>"},{"location":"commands/#brain-project-select-name","title":"<code>brain project select [name]</code>","text":"<p>Description: Focus on a specific project</p> <p>Usage: <pre><code>brain project select backend-api\nbrain project select  # Interactive selection\n</code></pre></p> <p>Options: - If no name provided, shows interactive fzf selection</p> <p>Notes: - Focused project used as default for commands like <code>brain project link</code> - Focus persists across sessions</p>"},{"location":"commands/#brain-project-current","title":"<code>brain project current</code>","text":"<p>Description: Show currently focused project</p> <p>Usage: <pre><code>brain project current\n</code></pre></p> <p>Output: <pre><code>backend-api\n</code></pre></p> <p>Notes: - Returns exit code 1 if no project is focused - Useful for shell prompts and scripts</p>"},{"location":"commands/#brain-project-clone-url-name","title":"<code>brain project clone &lt;url&gt; [name]</code>","text":"<p>Description: Import a git repository as a new project</p> <p>Usage: <pre><code>brain project clone https://github.com/user/repo.git\nbrain project clone https://github.com/user/repo.git my-project\n</code></pre></p> <p>Workflow: 1. Creates new project (name extracted from URL if not provided) 2. Links the repository 3. Clones to <code>~/dev/</code> 4. Focuses the project</p> <p>Examples: <pre><code># Auto-name from URL\nbrain project clone https://github.com/user/awesome-tool.git\n# Creates project: awesome-tool\n\n# Custom name\nbrain project clone https://github.com/user/repo.git backend-api\n# Creates project: backend-api\n</code></pre></p> <p>Notes: - One-command setup for code-based projects - Repository cloned to <code>~/dev/&lt;repo-name&gt;/</code> - Use <code>brain go</code> afterward to enter dev mode</p>"},{"location":"commands/#brain-project-link-url","title":"<code>brain project link &lt;url&gt;</code>","text":"<p>Description: Link a git repository to current/focused project</p> <p>Usage: <pre><code>brain project link https://github.com/user/repo.git\n</code></pre></p> <p>Notes: - Links repository URL to focused project's <code>.repos</code> file - Multiple repos can be linked to one project - Use <code>brain project pull</code> to clone/update linked repos - Verifies remote accessibility (warns if unreachable)</p>"},{"location":"commands/#brain-project-pull","title":"<code>brain project pull</code>","text":"<p>Description: Clone/update all linked repositories</p> <p>Usage: <pre><code>brain project pull\n</code></pre></p> <p>Behavior: - Reads <code>.repos</code> file from focused project - For each repository:   - If not cloned: Clones to <code>~/dev/&lt;repo-name&gt;/</code>   - If already cloned: Runs <code>git pull</code></p> <p>Output: <pre><code>Project: backend-api\n  backend-service\n    Cloning...\n\n  frontend-app\n    Updating...\n</code></pre></p> <p>Notes: - Clones to <code>~/dev/</code> directory by default - Skips repos that are commented out in <code>.repos</code> (lines starting with <code>#</code>)</p>"},{"location":"commands/#brain-project-archive-name","title":"<code>brain project archive &lt;name&gt;</code>","text":"<p>Description: Archive a project</p> <p>Usage: <pre><code>brain project archive old-project\nbrain project archive  # Archives focused project\n</code></pre></p> <p>Behavior: - Moves project from <code>01_active/</code> to <code>99_archive/</code> - Appends timestamp: <code>project-name_YYYYMMDD</code> - Clears focus if archiving focused project</p> <p>Notes: - Does not delete the project, just moves it - Archived projects can be manually moved back to <code>01_active/</code> if needed - Code repositories in <code>~/dev/</code> are not affected</p>"},{"location":"commands/#brain-project-move-project-target-brain","title":"<code>brain project move &lt;project&gt; [target-brain]</code>","text":"<p>Description: Move a project to another brain</p> <p>Usage: <pre><code>brain project move backend-api work\nbrain project move backend-api  # Interactive brain selection\n</code></pre></p> <p>Options: - If target brain not provided, shows interactive selection</p> <p>Notes: - Moves entire project directory between brains - Clears focus if moving focused project - Target brain must exist - Cannot move if project with same name exists in target brain</p>"},{"location":"commands/#brain-project-delete-name","title":"<code>brain project delete &lt;name&gt;</code>","text":"<p>Description: Permanently delete a project</p> <p>Usage: <pre><code>brain project delete old-project\nbrain project delete  # Deletes focused project\n</code></pre></p> <p>Notes: - DESTRUCTIVE OPERATION - Cannot be undone - Requires typing project name to confirm - Consider using <code>brain project archive</code> instead - Does not delete code repositories in <code>~/dev/</code></p>"},{"location":"commands/#todo-management","title":"Todo Management","text":""},{"location":"commands/#brain-todo","title":"<code>brain todo</code>","text":"<p>Description: Interactive fuzzy search through tasks</p> <p>Usage: <pre><code>brain todo\n</code></pre></p> <p>Behavior: - Shows all open tasks in fzf - Preview shows file location with context (uses <code>bat</code> if available) - Select task \u2192 Opens in editor at exact line</p> <p>Notes: - Requires fzf for interactive mode - Opens file at the specific line number of the task - Great for quickly finding and editing tasks</p>"},{"location":"commands/#brain-todo-ls","title":"<code>brain todo ls</code>","text":"<p>Description: List tasks with filters</p> <p>Usage: <pre><code># List all open tasks\nbrain todo ls\n\n# Filter by status\nbrain todo ls --status in-progress\nbrain todo ls --status blocked\n\n# Filter by priority\nbrain todo ls --priority 1\nbrain todo ls --no-priority\n\n# Filter by tags\nbrain todo ls --tag bug\nbrain todo ls --tag bug --tag security --tag-mode and\n\n# Filter by due date\nbrain todo ls --due-today\nbrain todo ls --due-this-week\nbrain todo ls --overdue\n\n# Sorting\nbrain todo ls --sort priority\nbrain todo ls --sort deadline\nbrain todo ls --sort project\nbrain todo ls --sort status\n\n# Include completed tasks\nbrain todo ls --all\n\n# JSON output\nbrain todo ls --json\n</code></pre></p> <p>Options: - <code>--json</code> - Output JSON format - <code>--all</code> - Include completed tasks - <code>--priority &lt;1-3&gt;</code> - Filter by priority level - <code>--no-priority</code> - Show only unprioritized tasks - <code>--status &lt;state&gt;</code> - Filter by status (open, in-progress, blocked, done) - <code>--tag &lt;tag&gt;</code> - Filter by tag (can specify multiple) - <code>--tag-mode &lt;and|or&gt;</code> - Tag filter mode (default: or) - <code>--due-today</code> - Tasks due today - <code>--due-this-week</code> - Tasks due within 7 days - <code>--overdue</code> - Tasks past due date - <code>--sort &lt;field&gt;</code> - Sort by priority, deadline, project, or status</p> <p>Output: <pre><code>abc123 [P1] [&gt;] Fix authentication bug #bug #security (backend-api) [Due: 2026-02-07]\ndef456 [P2] [ ] Update documentation (docs) [Due: 2026-02-10]\nghi789      [ ] Refactor API handlers (backend-api)\n</code></pre></p> <p>Format: - <code>ID</code> - Unique task identifier - <code>[P1]</code> - Priority badge (1=high, 2=medium, 3=low) - <code>[&gt;]</code> - Status checkbox (<code>[ ]</code>=open, <code>[&gt;]</code>=in-progress, <code>[-]</code>=blocked, <code>[x]</code>=done) - Task content - Tags (with <code>#</code>) - <code>(project)</code> - Project name - <code>[Due: DATE]</code> - Due date (shows <code>[OVERDUE]</code> if past due)</p> <p>Notes: - Default sort: overdue/upcoming tasks first, then by priority - Filters can be combined - JSON output includes file paths and line numbers for editing</p>"},{"location":"commands/#brain-todo-done-id","title":"<code>brain todo done [id]</code>","text":"<p>Description: Mark task as complete</p> <p>Usage: <pre><code># By ID\nbrain todo done abc123\n\n# Interactive selection\nbrain todo done\n</code></pre></p> <p>Behavior: - Changes checkbox from <code>[ ]</code> to <code>[x]</code> - Keeps task in todo.md (doesn't delete) - Can be reopened with <code>brain todo reopen</code></p>"},{"location":"commands/#brain-todo-delete-id","title":"<code>brain todo delete [id]</code>","text":"<p>Description: Permanently delete a task</p> <p>Usage: <pre><code># By ID\nbrain todo delete abc123\n\n# Interactive selection\nbrain todo delete\n</code></pre></p> <p>Notes: - DESTRUCTIVE - Requires confirmation - Removes line from todo.md - Cannot be undone (unless using version control)</p>"},{"location":"commands/#brain-todo-reopen-id","title":"<code>brain todo reopen [id]</code>","text":"<p>Description: Reopen a completed task</p> <p>Usage: <pre><code># By ID\nbrain todo reopen abc123\n\n# Interactive selection from completed tasks\nbrain todo reopen\n</code></pre></p> <p>Behavior: - Changes checkbox from <code>[x]</code> back to <code>[ ]</code> - Task becomes visible in default listings again</p>"},{"location":"commands/#brain-todo-start-id","title":"<code>brain todo start &lt;id&gt;</code>","text":"<p>Description: Mark task as in-progress</p> <p>Usage: <pre><code>brain todo start abc123\n</code></pre></p> <p>Behavior: - Changes checkbox to <code>[&gt;]</code> - Signals active work on the task</p>"},{"location":"commands/#brain-todo-block-id","title":"<code>brain todo block &lt;id&gt;</code>","text":"<p>Description: Mark task as blocked</p> <p>Usage: <pre><code>brain todo block abc123\n</code></pre></p> <p>Behavior: - Changes checkbox to <code>[-]</code> - Indicates task is waiting on external dependency</p>"},{"location":"commands/#brain-todo-unblock-id","title":"<code>brain todo unblock &lt;id&gt;</code>","text":"<p>Description: Unblock a task (set to open)</p> <p>Usage: <pre><code>brain todo unblock abc123\n</code></pre></p> <p>Behavior: - Changes checkbox from <code>[-]</code> back to <code>[ ]</code></p>"},{"location":"commands/#brain-todo-status-id-state","title":"<code>brain todo status &lt;id&gt; &lt;state&gt;</code>","text":"<p>Description: Set task status directly</p> <p>Usage: <pre><code>brain todo status abc123 open\nbrain todo status abc123 in-progress\nbrain todo status abc123 blocked\nbrain todo status abc123 done\n</code></pre></p> <p>Valid States: - <code>open</code> - Not started (<code>[ ]</code>) - <code>in-progress</code> - Currently working (<code>[&gt;]</code>) - <code>blocked</code> - Waiting on dependency (<code>[-]</code>) - <code>done</code> - Completed (<code>[x]</code>)</p>"},{"location":"commands/#brain-todo-prio-id-priority","title":"<code>brain todo prio &lt;id&gt; &lt;priority&gt;</code>","text":"<p>Description: Set task priority</p> <p>Usage: <pre><code>brain todo prio abc123 1  # High priority\nbrain todo prio abc123 2  # Medium priority\nbrain todo prio abc123 3  # Low priority\nbrain todo prio abc123 0  # Clear priority\n</code></pre></p> <p>Priority Levels: - <code>1</code> - High (P1) - <code>2</code> - Medium (P2) - <code>3</code> - Low (P3) - <code>0</code> or <code>clear</code> - No priority</p> <p>Behavior: - Adds/updates <code>#p:N</code> tag in task line - Affects sort order in <code>brain todo ls</code></p>"},{"location":"commands/#brain-todo-due-id-date","title":"<code>brain todo due &lt;id&gt; &lt;date&gt;</code>","text":"<p>Description: Set task due date</p> <p>Usage: <pre><code># Explicit date\nbrain todo due abc123 2026-02-15\n\n# Natural language\nbrain todo due abc123 tomorrow\nbrain todo due abc123 next-friday\nbrain todo due abc123 +7d\n\n# Clear due date\nbrain todo due abc123 clear\n</code></pre></p> <p>Date Formats: - <code>YYYY-MM-DD</code> - Explicit date - <code>today</code>, <code>tomorrow</code>, <code>yesterday</code> - <code>+Nd</code> - N days from now (e.g., <code>+7d</code>) - <code>next-monday</code>, <code>next-tuesday</code>, etc. - <code>clear</code> / <code>none</code> - Remove due date</p> <p>Behavior: - Adds/updates <code>#due:YYYY-MM-DD</code> tag - Shows as <code>[Due: DATE]</code> in listings - Overdue tasks highlighted with <code>[OVERDUE]</code></p>"},{"location":"commands/#brain-todo-tag-id-tags","title":"<code>brain todo tag &lt;id&gt; &lt;tags...&gt;</code>","text":"<p>Description: Add tags to a task</p> <p>Usage: <pre><code># Single tag\nbrain todo tag abc123 bug\n\n# Multiple tags\nbrain todo tag abc123 bug security urgent\n\n# Remove tags\nbrain todo tag abc123 --rm bug security\n</code></pre></p> <p>Options: - <code>--rm</code> - Remove specified tags instead of adding</p> <p>Examples: <pre><code># Add tags\nbrain todo tag abc123 bug security\n# Result: - [ ] Fix auth bug #bug #security\n\n# Remove tags\nbrain todo tag abc123 --rm security\n# Result: - [ ] Fix auth bug #bug\n</code></pre></p> <p>Notes: - Tags are stored as <code>#tagname</code> in the task line - Tags can be filtered with <code>brain todo ls --tag</code> - Use lowercase for consistency (convention)</p>"},{"location":"commands/#brain-todo-tags","title":"<code>brain todo tags</code>","text":"<p>Description: List all tags used across tasks</p> <p>Usage: <pre><code>brain todo tags\n</code></pre></p> <p>Output: <pre><code>Tags in use:\n  bug (5 tasks)\n  security (3 tasks)\n  documentation (2 tasks)\n  performance (1 task)\n</code></pre></p> <p>Notes: - Shows tag usage statistics - Useful for discovering existing tags before adding new ones - Helps maintain tag consistency</p>"},{"location":"commands/#note-management","title":"Note Management","text":""},{"location":"commands/#brain-note-project","title":"<code>brain note [project]</code>","text":"<p>Description: Open project notes in editor</p> <p>Usage: <pre><code># Open focused project's notes\nbrain note\n\n# Open specific project's notes\nbrain note backend-api\n</code></pre></p> <p>Behavior: - Opens <code>notes.md</code> in your editor - Uses <code>$EDITOR</code> environment variable</p> <p>Notes: - Notes are free-form markdown - Can include documentation, meeting notes, ideas, etc. - Timestamped notes from dump are stored in <code>notes/</code> subdirectory</p>"},{"location":"commands/#brain-note-ls-project","title":"<code>brain note ls [project]</code>","text":"<p>Description: List note files</p> <p>Usage: <pre><code># List notes in focused project\nbrain note ls\n\n# List notes in specific project\nbrain note ls backend-api\n</code></pre></p> <p>Output: <pre><code>notes.md\nnotes/2026-01-20-meeting-notes.md\nnotes/2026-01-25-architecture-ideas.md\n</code></pre></p> <p>Notes: - Shows <code>notes.md</code> and all files in <code>notes/</code> directory - Timestamped notes created by refiling from dump</p>"},{"location":"commands/#context-dev-mode","title":"Context &amp; Dev Mode","text":""},{"location":"commands/#brain-go","title":"<code>brain go</code>","text":"<p>Description: Enter project context</p> <p>Usage: <pre><code>brain go\n</code></pre></p> <p>Behavior:</p> <p>No linked repos: - Opens new shell in project directory</p> <p>With linked repos: - Launches tmux session - Creates windows for:   - Project directory (notes/todos)   - Each linked repository - Activates Python venv if present</p> <p>Examples: <pre><code># Simple project\ncd ~/brain/01_active/documentation\nbrain go\n# Opens shell in documentation/\n\n# Project with repos\ncd ~/brain/01_active/backend-api\nbrain go\n# Launches tmux with windows for:\n#   1. backend-api (project)\n#   2. backend-service (code repo)\n#   3. frontend-app (code repo)\n</code></pre></p> <p>Notes: - Requires tmux for multi-repo projects - Automatically names tmux session after project - Attaches to existing session if already running</p>"},{"location":"commands/#sync-utilities","title":"Sync &amp; Utilities","text":""},{"location":"commands/#brain-sync","title":"<code>brain sync</code>","text":"<p>Description: Sync with external storage (if implemented)</p> <p>Usage: <pre><code>brain sync\n</code></pre></p> <p>Notes: - Check <code>brain sync --help</code> for implementation status - May integrate with Syncthing, Dropbox, etc. - Brain directories are plain files, easily syncable manually</p>"},{"location":"commands/#global-options","title":"Global Options","text":"<p>Available on all commands:</p> <ul> <li><code>--help</code> - Show command help</li> <li><code>--version</code> - Show version information</li> </ul> <p>Examples: <pre><code>brain --help\nbrain todo ls --help\nbrain --version\n</code></pre></p>"},{"location":"commands/#task-states-reference","title":"Task States Reference","text":"<p>Local Brain uses markdown checkboxes with different symbols:</p> Checkbox State Description <code>[ ]</code> open Not started <code>[&gt;]</code> in-progress Currently working <code>[-]</code> blocked Waiting on external dependency <code>[x]</code> done Completed"},{"location":"commands/#metadata-tags-reference","title":"Metadata Tags Reference","text":"<p>Tasks support inline metadata tags:</p> Tag Format Example Description Priority <code>#p:N</code> <code>#p:1</code> Priority 1-3 (1=high) Due Date <code>#due:DATE</code> <code>#due:2026-02-15</code> Task deadline Captured <code>#captured:DATE</code> <code>#captured:2026-01-29</code> When item was added Done <code>#done:DATE</code> <code>#done:2026-01-30</code> When completed Custom Tags <code>#tagname</code> <code>#bug #security</code> Free-form labels <p>Example Task: <pre><code>- [&gt;] Fix authentication bug #p:1 #due:2026-02-15 #bug #security #captured:2026-01-29\n</code></pre></p>"},{"location":"commands/#json-api-usage","title":"JSON API Usage","text":"<p>Many commands support <code>--json</code> for programmatic access:</p> <pre><code># Get dump items with IDs\nbrain dump ls --json | jq '.[0].id'\n\n# List projects\nbrain project list --json | jq '.[] | select(.focused==true) | .name'\n\n# Filter tasks\nbrain todo ls --priority 1 --json | jq '.[].content'\n</code></pre> <p>Non-interactive Commands:</p> <p>These commands support scripting without user interaction:</p> <pre><code># Refile by ID\nbrain refile abc123 backend-api\n\n# Set task metadata\nbrain todo prio abc123 1\nbrain todo due abc123 2026-02-15\nbrain todo tag abc123 bug security\nbrain todo status abc123 in-progress\n</code></pre> <p>Example AI Agent Workflow: <pre><code>#!/bin/bash\n# Get first dump item\nID=$(brain dump ls --json | jq -r '.[0].id')\n\n# Refile to focused project\nPROJECT=$(brain project current)\nbrain refile \"$ID\" \"$PROJECT\"\n\n# Set high priority\nbrain todo prio \"$ID\" 1\n</code></pre></p>"},{"location":"commands/#environment-variables","title":"Environment Variables","text":"<p>Customize Local Brain behavior:</p> <pre><code># Root directory for all brains (default: ~/brains)\nexport BRAIN_ROOT=\"$HOME/Dropbox/Brains\"\n\n# Active brain symlink location (default: ~/brain)\nexport BRAIN_SYMLINK=\"$HOME/ActiveBrain\"\n\n# Config directory (default: ~/.config/brain)\nexport BRAIN_CONFIG_DIR=\"$HOME/.config/brain\"\n\n# Editor for notes (default: vi)\nexport EDITOR=\"nvim\"\n</code></pre> <p>Add to <code>~/.bashrc</code> or <code>~/.zshrc</code> to make permanent.</p>"},{"location":"commands/#tips-best-practices","title":"Tips &amp; Best Practices","text":"<p>Daily Workflow: <pre><code># Morning: Quick captures throughout the day\nbrain add \"Task 1\"\nbrain add \"Task 2\"\n\n# End of day: Process dump\nbrain refile\n\n# Weekly: Enrich tasks\nbrain plan\n</code></pre></p> <p>Keyboard-Driven Workflow: - Use shell aliases: <code>alias ba='brain add'</code> - Use fzf for all interactive selections - Set up shell completion for tab completion</p> <p>Project Organization: - Use hyphens in project names: <code>backend-api</code> not <code>backend_api</code> - Archive completed projects regularly - One brain per major context (Work, Personal, Learning)</p> <p>Task Management: - Capture without metadata (speed) - Enrich during planning (batch) - Use priorities sparingly (only what's urgent) - Tags for categorization, not micro-management</p> <p>Code Integration: - Link repos early: <code>brain project link &lt;url&gt;</code> - Pull repos before work: <code>brain project pull</code> - Use <code>brain go</code> for instant dev environment</p>"},{"location":"commands/#next-steps","title":"Next Steps","text":"<ul> <li>Installation Guide - Set up Local Brain</li> <li>Quickstart - Get started quickly</li> <li>Development Guide - Contribute or extend Local Brain</li> </ul>"},{"location":"development/","title":"Development Guide","text":"<p>Guide for contributors and developers working on Local Brain.</p>"},{"location":"development/#quick-start-for-contributors","title":"Quick Start for Contributors","text":""},{"location":"development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Go 1.21+ - Download</li> <li>Make - Build automation</li> <li>Git - Version control</li> </ul>"},{"location":"development/#clone-and-setup","title":"Clone and Setup","text":"<pre><code># Clone the repository\ngit clone https://github.com/SanderMoon/local-brain.git\ncd local-brain\n\n# Build the binary\nmake build\n\n# Run tests\nmake test\n\n# Install to ~/.local/bin for testing\nmake dev-install\n</code></pre>"},{"location":"development/#build-commands","title":"Build Commands","text":"<pre><code>make build              # Build binary to ./brain\nmake dev-install        # Install to ~/.local/bin\nmake install            # Install to /usr/local/bin (system-wide, requires sudo)\n</code></pre>"},{"location":"development/#testing","title":"Testing","text":"<pre><code>make test               # Fast unit tests only (default)\nmake test-all           # All tests including integration\nmake test-unit          # Unit tests only\nmake test-integration   # Integration tests only\nmake test-cover         # Generate coverage report (coverage.html)\nmake test-race          # Run with race detection\n\n# Run single test\ngo test -v ./pkg/api -run TestGenerateItemID\ngo test -v ./pkg/config -run TestLoadConfig\n</code></pre>"},{"location":"development/#code-quality","title":"Code Quality","text":"<pre><code>make fmt                # Format code\nmake vet                # Run go vet\nmake lint               # Run golangci-lint (if installed)\nmake check              # Run all checks (fmt, vet, test)\n</code></pre>"},{"location":"development/#release-testing","title":"Release Testing","text":"<pre><code>make snapshot           # Test release build without tags (artifacts in dist/)\nmake release            # Create production release (requires git tag)\n</code></pre>"},{"location":"development/#architecture-overview","title":"Architecture Overview","text":""},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>local-brain/\n\u251c\u2500\u2500 cmd/                    # Cobra CLI commands (19+ commands)\n\u2502   \u251c\u2500\u2500 root.go            # Base command, version handling\n\u2502   \u251c\u2500\u2500 add.go             # Quick capture\n\u2502   \u251c\u2500\u2500 todo.go            # Task management\n\u2502   \u251c\u2500\u2500 project.go         # Project commands\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 pkg/                   # Core packages\n\u2502   \u251c\u2500\u2500 api/               # Business logic (JSON API layer)\n\u2502   \u251c\u2500\u2500 config/            # Configuration management\n\u2502   \u251c\u2500\u2500 fileutil/          # File operations &amp; locking\n\u2502   \u251c\u2500\u2500 external/          # External tool integration\n\u2502   \u251c\u2500\u2500 markdown/          # Markdown parsing\n\u2502   \u2514\u2500\u2500 testutil/          # Test utilities\n\u251c\u2500\u2500 docs/                  # Documentation\n\u251c\u2500\u2500 lib/                   # Shell integration scripts\n\u251c\u2500\u2500 Makefile               # Build automation\n\u251c\u2500\u2500 .goreleaser.yml        # Release configuration\n\u2514\u2500\u2500 go.mod                 # Go module definition\n</code></pre>"},{"location":"development/#package-structure","title":"Package Structure","text":""},{"location":"development/#cmd-cobra-cli-commands","title":"<code>cmd/</code> - Cobra CLI Commands","text":"<ul> <li>Each command in separate file (e.g., <code>add.go</code>, <code>project.go</code>, <code>todo.go</code>)</li> <li>All register with <code>rootCmd</code> in their <code>init()</code> functions</li> <li><code>root.go</code> defines base command and version handling</li> </ul> <p>Key Commands: - <code>add.go</code> - Quick capture to dump - <code>refile.go</code> - Interactive dump processing - <code>plan.go</code> - Batch task planning - <code>todo.go</code> - Task management with filters - <code>project.go</code> - Project lifecycle - <code>dump.go</code> - Dump item listing</p>"},{"location":"development/#pkgapi-core-business-logic","title":"<code>pkg/api/</code> - Core Business Logic","text":"<p>Purpose: JSON API layer, file parsing, ID generation</p> <p>Key Files: - <code>dump.go</code> - Parse dump file, generate stable IDs for items - <code>todo.go</code> - Parse todo.md files, extract tasks with metadata - <code>note.go</code> - Parse notes.md files, extract note entries - <code>project.go</code> - List projects, extract repo URLs from <code>.repos</code> files - <code>id.go</code> - MD5-based ID generation (must match bash version for compatibility)</p> <p>Design: - Stateless functions for parsing and manipulation - Returns structured data (TodoItem, NoteEntry, etc.) - Thread-safe, no shared state</p>"},{"location":"development/#pkgconfig-configuration-management","title":"<code>pkg/config/</code> - Configuration Management","text":"<p>Key Files: - <code>config.go</code> - Brain config (JSON), thread-safe with mutex - <code>paths.go</code> - Path resolution with env var overrides - <code>symlink.go</code> - Active brain symlink management</p> <p>Thread Safety: - Uses <code>sync.RWMutex</code> for concurrent access - Safe for parallel command execution</p> <p>Environment Variables: - <code>BRAIN_ROOT</code> - Root directory for brains (default: <code>~/brains</code>) - <code>BRAIN_SYMLINK</code> - Active brain symlink location (default: <code>~/brain</code>) - <code>BRAIN_CONFIG_DIR</code>, <code>BRAIN_CONFIG_PATH</code> - Config overrides</p>"},{"location":"development/#pkgfileutil-file-operations","title":"<code>pkg/fileutil/</code> - File Operations","text":"<p>Key Files: - <code>atomic.go</code> - Atomic file writes with locking - <code>lock.go</code> - Directory-based file locking (prevents race conditions) - <code>platform.go</code> - Cross-platform utilities (symlinks, path expansion)</p> <p>Design Patterns: - Atomic Writes: Use temp file + rename for crash safety - File Locking: Directory-based locks prevent concurrent modification - Cross-platform: Handles symlinks, ~ expansion on all OSes</p>"},{"location":"development/#pkgexternal-external-tool-integration","title":"<code>pkg/external/</code> - External Tool Integration","text":"<p>Key Files: - <code>git.go</code> - Git operations (clone, pull, status) - <code>fzf.go</code> - Fuzzy finder integration for interactive selection - <code>tmux.go</code> - Tmux session management for dev mode - <code>editor.go</code> - Launch user's editor (vim/nvim)</p> <p>Design: - Check tool availability before use (<code>IsFZFAvailable()</code>) - Graceful degradation (interactive vs non-interactive fallback)</p>"},{"location":"development/#pkgmarkdown-markdown-parsing","title":"<code>pkg/markdown/</code> - Markdown Parsing","text":"<p>Key Files: - <code>parser.go</code> - Extract tasks/notes from markdown with metadata</p> <p>Supported Metadata: - <code>#captured:YYYY-MM-DD</code> - Capture timestamp - <code>#done:YYYY-MM-DD</code> - Completion timestamp - <code>#p:N</code> - Priority (1-3) - <code>#due:YYYY-MM-DD</code> - Due date - <code>#tagname</code> - Free-form tags</p>"},{"location":"development/#pkgtestutil-test-utilities","title":"<code>pkg/testutil/</code> - Test Utilities","text":"<p>Key Files: - Isolated test brain creation with <code>t.TempDir()</code> - Fixture files in <code>fixtures/</code> directory</p> <p>Testing Strategy: - Unit tests isolated with <code>t.TempDir()</code> and env var overrides - Integration tests verify multi-component workflows - No test affects user's actual brain data</p>"},{"location":"development/#key-design-patterns","title":"Key Design Patterns","text":""},{"location":"development/#thread-safety","title":"Thread Safety","text":"<p>Config Access: <pre><code>// pkg/config/config.go uses sync.RWMutex\nfunc (c *Config) GetCurrentBrain() string {\n    c.mu.RLock()\n    defer c.mu.RUnlock()\n    return c.ActiveBrain\n}\n</code></pre></p> <p>File Operations: <pre><code>// Use atomic writes + directory locks\nerr := fileutil.WithLock(todoFile, func() error {\n    return fileutil.AtomicWriteFile(todoFile, content)\n})\n</code></pre></p>"},{"location":"development/#backward-compatibility","title":"Backward Compatibility","text":"<p>Item ID Generation: - IDs use same MD5 algorithm as bash version - See <code>pkg/api/id.go</code> - Do not change without extensive testing</p> <p>File Formats: - Config: <code>~/.config/brain/config.json</code> (preserved) - Markdown: <code>#captured:</code>, <code>#done:</code> metadata (preserved) - Task states: <code>[ ]</code>, <code>[&gt;]</code>, <code>[-]</code>, <code>[x]</code> (preserved)</p>"},{"location":"development/#testing-strategy","title":"Testing Strategy","text":"<p>Unit Tests: <pre><code>func TestParseProject(t *testing.T) {\n    tmpDir := t.TempDir() // Isolated test environment\n    projectDir := filepath.Join(tmpDir, \"test-project\")\n    os.MkdirAll(projectDir, 0755)\n\n    // Test logic here\n\n    if err != nil {\n        t.Fatalf(\"Expected no error, got: %v\", err)\n    }\n}\n</code></pre></p> <p>Key Principles: - Use <code>t.TempDir()</code> for test isolation - Override env vars for config paths (see <code>pkg/testutil/testutil.go</code>) - Test both success and error cases - Follow naming: <code>TestFunctionName</code>, <code>TestFunctionName_ErrorCase</code></p>"},{"location":"development/#data-flow-example-refiling","title":"Data Flow Example: Refiling","text":"<p>Understanding how a command flows through the codebase:</p> <p>User runs: <code>brain refile &lt;id&gt; project-name</code></p> <ol> <li><code>cmd/refile.go</code> - Parses CLI args, validates inputs</li> <li><code>pkg/api/dump.go</code> - Reads <code>00_dump.md</code>, finds item by ID</li> <li><code>pkg/config/config.go</code> - Resolves project path</li> <li><code>pkg/fileutil/atomic.go</code> - Appends to <code>todo.md</code> with file locking</li> <li><code>pkg/fileutil/atomic.go</code> - Removes item from dump atomically</li> </ol> <p>Key Points: - Each layer has clear responsibility - File operations are atomic and locked - Configuration access is thread-safe</p>"},{"location":"development/#contributing-guidelines","title":"Contributing Guidelines","text":""},{"location":"development/#code-style","title":"Code Style","text":"<ul> <li>Format: Run <code>make fmt</code> before committing (uses <code>gofmt</code>)</li> <li>Linting: Run <code>make lint</code> (uses <code>golangci-lint</code>)</li> <li>Naming: Follow Go conventions (exported vs unexported)</li> <li>Comments: Document exported functions with doc comments</li> </ul>"},{"location":"development/#testing-requirements","title":"Testing Requirements","text":"<p>All new features and bug fixes MUST include unit tests.</p> <p>Test Placement: - Place tests in <code>*_test.go</code> files alongside the code - Example: <code>dump.go</code> \u2192 <code>dump_test.go</code></p> <p>Test Structure: <pre><code>func TestFunctionName(t *testing.T) {\n    tmpDir := t.TempDir()\n    // Setup test environment\n\n    // Execute function under test\n    result, err := FunctionName(...)\n\n    // Assertions\n    if err != nil {\n        t.Fatalf(\"Expected no error, got: %v\", err)\n    }\n    if result != expected {\n        t.Errorf(\"Expected %v, got %v\", expected, result)\n    }\n}\n</code></pre></p> <p>Test Isolation: - Never affect user data - Use <code>t.TempDir()</code> for all test brains - Override env vars: <code>BRAIN_CONFIG_DIR</code>, <code>BRAIN_ROOT</code>, <code>BRAIN_SYMLINK</code> - See <code>pkg/testutil/testutil.go</code> for test brain setup helpers</p>"},{"location":"development/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch <pre><code>git checkout -b feature/my-feature\n</code></pre></li> <li>Make your changes</li> <li>Write code</li> <li>Add tests</li> <li>Update documentation if needed</li> <li>Run checks <pre><code>make check\nmake test-all\n</code></pre></li> <li>Commit with descriptive messages <pre><code>feat: add natural language date parsing\n\n- Supports \"tomorrow\", \"+3d\", \"next-friday\"\n- Integrates with brain plan and brain todo due\n- Adds pkg/dateutil package\n</code></pre></li> <li>Push and open PR <pre><code>git push origin feature/my-feature\n</code></pre></li> <li>Respond to review feedback</li> </ol>"},{"location":"development/#commit-message-format","title":"Commit Message Format","text":"<p>Follow Conventional Commits:</p> <pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;short description&gt;\n\n&lt;optional body&gt;\n\n&lt;optional footer&gt;\n</code></pre> <p>Types: - <code>feat:</code> - New feature - <code>fix:</code> - Bug fix - <code>docs:</code> - Documentation only - <code>style:</code> - Code style (formatting, no logic change) - <code>refactor:</code> - Code restructuring (no behavior change) - <code>test:</code> - Adding or updating tests - <code>chore:</code> - Maintenance (dependencies, build config)</p> <p>Examples: <pre><code>feat(todo): add priority filtering to todo ls\n\nfix(refile): handle empty dump file gracefully\n\ndocs: update installation guide with Homebrew instructions\n</code></pre></p>"},{"location":"development/#api-documentation","title":"API Documentation","text":""},{"location":"development/#programmatic-access","title":"Programmatic Access","text":"<p>Local Brain provides JSON output for scripting:</p> <pre><code># Get dump items\nbrain dump ls --json\n\n# List projects\nbrain project list --json\n\n# List todos\nbrain todo ls --json\n</code></pre>"},{"location":"development/#go-package-api","title":"Go Package API","text":"<p>Full API documentation available at: - pkg.go.dev/github.com/SanderMoon/local-brain</p> <p>Key Packages:</p>"},{"location":"development/#pkgapi","title":"<code>pkg/api</code>","text":"<p>Core business logic functions:</p> <pre><code>// Parse all todos from active projects\nfunc ParseAllTodos(activeDir string, includeCompleted bool) ([]TodoItem, error)\n\n// Generate stable item ID\nfunc GenerateTaskID(lineNum int, content string, mtime int64) string\n\n// List projects with metadata\nfunc ListProjects(activeDir string, focusedProject string) ([]Project, error)\n</code></pre>"},{"location":"development/#pkgconfig","title":"<code>pkg/config</code>","text":"<p>Configuration management:</p> <pre><code>// Load configuration\nfunc Load() (*Config, error)\n\n// Get active brain path\nfunc (c *Config) GetCurrentBrainPath() (string, error)\n\n// Set focused project\nfunc (c *Config) SetFocusedProject(name string) error\n</code></pre>"},{"location":"development/#pkgfileutil","title":"<code>pkg/fileutil</code>","text":"<p>File operations:</p> <pre><code>// Atomic file write\nfunc AtomicWriteFile(path string, data []byte) error\n\n// Execute function with file lock\nfunc WithLock(path string, fn func() error) error\n</code></pre>"},{"location":"development/#important-notes-for-contributors","title":"Important Notes for Contributors","text":""},{"location":"development/#id-generation-must-match-bash","title":"ID Generation Must Match Bash","text":"<p>The <code>pkg/api/id.go</code> GenerateItemID function uses MD5 hashing that must match the original bash implementation for backward compatibility.</p> <p>DO NOT change the algorithm without: - Extensive testing with existing brain data - Migration path for existing users - Approval from maintainers</p>"},{"location":"development/#atomic-file-operations","title":"Atomic File Operations","text":"<p>When modifying dump or project files, always use: - <code>pkg/fileutil.AtomicWrite()</code> - Crash-safe writes - <code>pkg/fileutil.WithLock()</code> - Prevent race conditions</p> <p>Why: - Users may run multiple brain commands concurrently - File corruption must be prevented - Data loss is unacceptable</p>"},{"location":"development/#linter-requirements","title":"Linter Requirements","text":"<p>All code must pass <code>golangci-lint</code>: - Check error returns (errcheck) - No empty branches (staticcheck) - Handle <code>defer func() { _ = f.Close() }()</code> for non-critical errors</p>"},{"location":"development/#version-injection","title":"Version Injection","text":"<p>Version info is injected at build time via ldflags:</p> <pre><code>// main.go\nvar (\n    version = \"dev\"\n    commit  = \"unknown\"\n    date    = \"unknown\"\n)\n</code></pre> <p>Build command: <pre><code>go build -ldflags \"-X main.version=v1.0.0 -X main.commit=abc123 -X main.date=2026-01-28\"\n</code></pre></p>"},{"location":"development/#release-process","title":"Release Process","text":"<p>For maintainers only</p>"},{"location":"development/#prerequisites_1","title":"Prerequisites","text":"<ol> <li> <p>GoReleaser installed: <pre><code>make install-goreleaser\n</code></pre></p> </li> <li> <p>GitHub token: <pre><code>export GITHUB_TOKEN=\"your_github_token\"\n</code></pre></p> </li> <li> <p>Clean working directory: <pre><code>git status  # Should be clean\n</code></pre></p> </li> <li> <p>All tests passing: <pre><code>make test-all\nmake test-race\n</code></pre></p> </li> </ol>"},{"location":"development/#release-steps","title":"Release Steps","text":""},{"location":"development/#1-update-version-information","title":"1. Update Version Information","text":"<pre><code># Run full test suite\nmake check\n\n# Verify build\nmake build\n./brain --version\n</code></pre>"},{"location":"development/#2-create-git-tag","title":"2. Create Git Tag","text":"<p>Follow Semantic Versioning: - MAJOR: Incompatible API changes - MINOR: Backwards-compatible functionality - PATCH: Backwards-compatible bug fixes</p> <pre><code>VERSION=\"v2.0.0\"\n\n# Create and push the tag\ngit tag -a $VERSION -m \"Release $VERSION\"\ngit push origin $VERSION\n</code></pre>"},{"location":"development/#3-github-actions-automated","title":"3. GitHub Actions (Automated)","text":"<p>Once you push the tag, GitHub Actions automatically: 1. Runs all tests 2. Builds binaries for all platforms 3. Creates a GitHub release 4. Uploads artifacts 5. Updates the Homebrew tap (if configured)</p> <p>Monitor at: https://github.com/SanderMoon/local-brain/actions</p>"},{"location":"development/#4-manual-release-alternative","title":"4. Manual Release (Alternative)","text":"<pre><code># Create a snapshot (test without pushing)\nmake snapshot\n\n# Check the artifacts\nls -la dist/\n\n# Create a real release (requires git tag)\nmake release\n</code></pre>"},{"location":"development/#testing-a-release-locally","title":"Testing a Release Locally","text":"<pre><code># Create snapshot release\nmake snapshot\n\n# Test the binary for your platform\ndist/brain_darwin_arm64/brain --version\n</code></pre>"},{"location":"development/#post-release-steps","title":"Post-Release Steps","text":"<ol> <li>Verify the release at GitHub releases page</li> <li>Test installation methods: <pre><code># Go install\ngo install github.com/SanderMoon/local-brain@latest\n\n# Homebrew\nbrew upgrade brain\n</code></pre></li> <li>Update documentation if needed</li> <li>Announce the release (GitHub Discussions, social media)</li> </ol>"},{"location":"development/#release-checklist","title":"Release Checklist","text":"<ul> <li>[ ] All tests passing (<code>make test-all</code>)</li> <li>[ ] Race detector clean (<code>make test-race</code>)</li> <li>[ ] Code formatted (<code>make fmt</code>)</li> <li>[ ] Linter passing (<code>make lint</code>)</li> <li>[ ] Version number decided</li> <li>[ ] Documentation updated</li> <li>[ ] Git tag created and pushed</li> <li>[ ] GitHub Actions workflow completed</li> <li>[ ] Release artifacts available</li> <li>[ ] Installation methods tested</li> <li>[ ] Release announced</li> </ul>"},{"location":"development/#rollback-procedure","title":"Rollback Procedure","text":"<p>If a release has critical issues:</p> <pre><code># Delete the tag locally\ngit tag -d $VERSION\n\n# Delete the tag remotely\ngit push origin :refs/tags/$VERSION\n\n# Fix the issue and re-release with patch version\n</code></pre>"},{"location":"development/#distribution","title":"Distribution","text":""},{"location":"development/#distribution-methods","title":"Distribution Methods","text":"<ol> <li>Homebrew (macOS/Linux) - Recommended</li> <li>Go install - For Go developers</li> <li>GitHub Releases - Pre-built binaries</li> <li>Build from source - For contributors</li> </ol>"},{"location":"development/#build-artifacts","title":"Build Artifacts","text":"<p>GoReleaser generates: - macOS (Intel/ARM) - Linux (x64/ARM) - Windows (future) - Checksums for verification - Homebrew formula auto-update</p> <p>See <code>.goreleaser.yml</code> for configuration.</p>"},{"location":"development/#resources","title":"Resources","text":"<ul> <li>GitHub Repository: https://github.com/SanderMoon/local-brain</li> <li>Issues: https://github.com/SanderMoon/local-brain/issues</li> <li>Discussions: https://github.com/SanderMoon/local-brain/discussions</li> <li>Go Docs: https://pkg.go.dev/github.com/SanderMoon/local-brain</li> <li>GoReleaser: https://goreleaser.com</li> <li>Cobra CLI: https://github.com/spf13/cobra</li> </ul>"},{"location":"development/#getting-help","title":"Getting Help","text":"<ul> <li>General questions: GitHub Discussions</li> <li>Bug reports: GitHub Issues</li> <li>Feature requests: GitHub Issues with \"enhancement\" label</li> <li>Contributing questions: Open an issue or discussion</li> </ul>"},{"location":"development/#license","title":"License","text":"<p>MIT License - See LICENSE file for details.</p>"},{"location":"installation/","title":"Installation Guide","text":"<p>Local Brain can be installed in several ways. Choose the method that works best for your setup.</p>"},{"location":"installation/#quick-install-recommended","title":"Quick Install (Recommended)","text":""},{"location":"installation/#homebrew-macoslinux","title":"Homebrew (macOS/Linux)","text":"<pre><code>brew tap SanderMoon/tap\nbrew install brain\n</code></pre> <p>Dependencies (fzf and ripgrep) are required and will be suggested automatically:</p> <pre><code>brew install fzf ripgrep\n</code></pre> <p>Verification:</p> <pre><code>brain --version\nbrain --help\n</code></pre>"},{"location":"installation/#alternative-installation-methods","title":"Alternative Installation Methods","text":""},{"location":"installation/#go-install-all-platforms","title":"Go Install (All Platforms)","text":"<p>If you have Go 1.21+ installed:</p> <pre><code>go install github.com/SanderMoon/local-brain@latest\n</code></pre> <p>Make sure <code>$(go env GOPATH)/bin</code> is in your PATH:</p> <pre><code>export PATH=\"$(go env GOPATH)/bin:$PATH\"\n</code></pre> <p>Add this to your shell config (<code>~/.bashrc</code>, <code>~/.zshrc</code>, etc.) to make it permanent.</p>"},{"location":"installation/#pre-built-binaries","title":"Pre-built Binaries","text":"<p>Download the latest release for your platform from the releases page.</p>"},{"location":"installation/#linux","title":"Linux","text":"<pre><code># AMD64\ncurl -LO https://github.com/SanderMoon/local-brain/releases/latest/download/brain_Linux_x86_64.tar.gz\ntar -xzf brain_Linux_x86_64.tar.gz\nsudo mv brain /usr/local/bin/\n\n# ARM64\ncurl -LO https://github.com/SanderMoon/local-brain/releases/latest/download/brain_Linux_arm64.tar.gz\ntar -xzf brain_Linux_arm64.tar.gz\nsudo mv brain /usr/local/bin/\n</code></pre>"},{"location":"installation/#macos","title":"macOS","text":"<pre><code># Intel Mac\ncurl -LO https://github.com/SanderMoon/local-brain/releases/latest/download/brain_Darwin_x86_64.tar.gz\ntar -xzf brain_Darwin_x86_64.tar.gz\nsudo mv brain /usr/local/bin/\n\n# Apple Silicon\ncurl -LO https://github.com/SanderMoon/local-brain/releases/latest/download/brain_Darwin_arm64.tar.gz\ntar -xzf brain_Darwin_arm64.tar.gz\nsudo mv brain /usr/local/bin/\n</code></pre>"},{"location":"installation/#build-from-source","title":"Build from Source","text":"<pre><code>git clone https://github.com/SanderMoon/local-brain.git\ncd local-brain\nmake build\nsudo make install\n</code></pre> <p>For a local installation (installs to <code>~/.local/bin</code> instead of <code>/usr/local/bin</code>):</p> <pre><code>make dev-install\n</code></pre> <p>Make sure <code>~/.local/bin</code> is in your PATH:</p> <pre><code>export PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre>"},{"location":"installation/#dependencies","title":"Dependencies","text":"<p>Local Brain requires fzf and ripgrep for core functionality. Additional tools are optional but recommended.</p> Tool Required Purpose Installation fzf \u2705 Yes Fuzzy finder for interactive selection <code>brew install fzf</code> ripgrep \u2705 Yes Fast text search <code>brew install ripgrep</code> bat Optional Syntax-highlighted file preview <code>brew install bat</code> tmux Optional Dev mode workspace management <code>brew install tmux</code> jq Optional JSON processing for scripts <code>brew install jq</code> syncthing Optional Cross-device synchronization <code>brew install syncthing</code>"},{"location":"installation/#install-all-dependencies","title":"Install All Dependencies","text":"<p>macOS:</p> <pre><code>brew install fzf ripgrep bat tmux jq syncthing\n</code></pre> <p>Ubuntu/Debian:</p> <pre><code>sudo apt install fzf ripgrep bat tmux jq syncthing\n</code></pre> <p>Arch Linux:</p> <pre><code>sudo pacman -S fzf ripgrep bat tmux jq syncthing\n</code></pre> <p>Fedora/RHEL:</p> <pre><code>sudo dnf install fzf ripgrep bat tmux jq syncthing\n</code></pre>"},{"location":"installation/#shell-integration","title":"Shell Integration","text":""},{"location":"installation/#shell-completion","title":"Shell Completion","text":"<p>Local Brain supports shell completion for bash, zsh, and fish.</p>"},{"location":"installation/#bash","title":"Bash","text":"<p>Add to your <code>~/.bashrc</code>:</p> <pre><code>source &lt;(brain completion bash)\n</code></pre> <p>Or install system-wide:</p> <pre><code>brain completion bash &gt; /usr/local/etc/bash_completion.d/brain\n</code></pre>"},{"location":"installation/#zsh","title":"Zsh","text":"<p>Add to your <code>~/.zshrc</code>:</p> <pre><code>source &lt;(brain completion zsh)\n</code></pre> <p>Or install to zsh completions directory:</p> <pre><code>brain completion zsh &gt; \"${fpath[1]}/_brain\"\n</code></pre>"},{"location":"installation/#fish","title":"Fish","text":"<pre><code>brain completion fish &gt; ~/.config/fish/completions/brain.fish\n</code></pre>"},{"location":"installation/#brain-prompt-helper","title":"Brain Prompt Helper","text":"<p>Display active brain in your shell prompt (optional).</p> <p>Add to your <code>~/.bashrc</code> or <code>~/.zshrc</code>:</p> <pre><code># Source the prompt helper\nsource /usr/local/lib/brain/brain-prompt.sh\n\n# Add to your PS1 (bash) or PROMPT (zsh)\n# Example for bash:\nPS1='$(brain_prompt)[\\u@\\h \\W]\\$ '\n\n# Example for zsh:\nPROMPT='$(brain_prompt)%n@%h %1~ %# '\n</code></pre> <p>This displays <code>[brain: work]</code> when a brain is active.</p>"},{"location":"installation/#first-run","title":"First Run","text":"<p>After installation, initialize your first brain:</p> <pre><code>brain init\n</code></pre> <p>This will:</p> <ol> <li>Create the configuration directory at <code>~/.config/brain</code></li> <li>Prompt you for your brain's location (default: <code>~/brains/default</code>)</li> <li>Set up the directory structure:    <pre><code>~/brains/\n\u2514\u2500\u2500 default/\n    \u251c\u2500\u2500 00_dump.md      # Inbox for quick captures\n    \u251c\u2500\u2500 01_active/      # Active projects\n    \u2514\u2500\u2500 99_archive/     # Archived projects\n</code></pre></li> <li>Create a symlink at <code>~/brain</code> \u2192 <code>~/brains/default</code></li> </ol>"},{"location":"installation/#quick-test","title":"Quick Test","text":"<p>Verify everything works:</p> <pre><code>brain add \"Set up my knowledge management system\"\nbrain dump ls\nbrain --version\n</code></pre>"},{"location":"installation/#environment-variables","title":"Environment Variables","text":"<p>Customize storage locations by setting environment variables in your shell config:</p> <pre><code># Root directory for all brains (default: ~/brains)\nexport BRAIN_ROOT=\"$HOME/Dropbox/Brains\"\n\n# Location of the active brain symlink (default: ~/brain)\nexport BRAIN_SYMLINK=\"$HOME/Desktop/ActiveBrain\"\n\n# Config directory (default: ~/.config/brain)\nexport BRAIN_CONFIG_DIR=\"$HOME/.config/brain\"\n</code></pre>"},{"location":"installation/#updating","title":"Updating","text":""},{"location":"installation/#homebrew","title":"Homebrew","text":"<pre><code>brew upgrade brain\n</code></pre>"},{"location":"installation/#go-install","title":"Go Install","text":"<pre><code>go install github.com/SanderMoon/local-brain@latest\n</code></pre>"},{"location":"installation/#manual-update","title":"Manual Update","text":"<p>Download and install the latest release following the pre-built binaries instructions above.</p>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#binary-not-found-after-installation","title":"Binary not found after installation","text":"<p>Make sure the installation directory is in your PATH:</p> <ul> <li>Go install: Add <code>$(go env GOPATH)/bin</code> to PATH</li> <li>Local install: Add <code>~/.local/bin</code> to PATH</li> <li>System install: <code>/usr/local/bin</code> should already be in PATH</li> </ul> <p>Add to your shell config (<code>~/.bashrc</code>, <code>~/.zshrc</code>, etc.):</p> <pre><code>export PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre> <p>Then reload your shell:</p> <pre><code>source ~/.bashrc  # or source ~/.zshrc\n</code></pre>"},{"location":"installation/#permission-denied","title":"Permission denied","text":"<p>If you get permission errors during system installation:</p> <pre><code>sudo make install\n</code></pre> <p>Or use <code>make dev-install</code> for a user-local installation that doesn't require sudo.</p>"},{"location":"installation/#dependencies-not-found","title":"Dependencies not found","text":"<p>Brain requires fzf and ripgrep. Install them:</p> <pre><code># macOS\nbrew install fzf ripgrep\n\n# Ubuntu/Debian\nsudo apt install fzf ripgrep\n\n# Arch Linux\nsudo pacman -S fzf ripgrep\n</code></pre>"},{"location":"installation/#homebrew-tap-not-found","title":"Homebrew tap not found","text":"<p>If <code>brew install brain</code> fails, ensure you've tapped the repository first:</p> <pre><code>brew tap SanderMoon/tap\nbrew install brain\n</code></pre>"},{"location":"installation/#uninstallation","title":"Uninstallation","text":""},{"location":"installation/#homebrew_1","title":"Homebrew","text":"<pre><code>brew uninstall brain\nbrew untap SanderMoon/tap\n</code></pre>"},{"location":"installation/#system-installation","title":"System Installation","text":"<pre><code>sudo make uninstall\n</code></pre> <p>Or manually:</p> <pre><code>sudo rm /usr/local/bin/brain\nsudo rm -rf /usr/local/lib/brain\n</code></pre>"},{"location":"installation/#local-installation","title":"Local Installation","text":"<pre><code>rm ~/.local/bin/brain\n</code></pre>"},{"location":"installation/#remove-all-data","title":"Remove All Data","text":"<p>To completely remove all brains and configuration:</p> <pre><code>rm -rf ~/.config/brain\nrm -rf ~/brains\nrm ~/brain  # Removes symlink\n</code></pre> <p>Warning: This permanently deletes all your notes and tasks. Back up first if needed.</p>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Return to the Quickstart Guide for usage examples</li> <li>Read the Command Reference for complete documentation</li> <li>Check the Development Guide if you want to contribute</li> </ul>"},{"location":"installation/#getting-help","title":"Getting Help","text":"<ul> <li>Issues: https://github.com/SanderMoon/local-brain/issues</li> <li>Discussions: https://github.com/SanderMoon/local-brain/discussions</li> <li>Documentation: https://sandermoon.github.io/local-brain/</li> </ul>"}]}